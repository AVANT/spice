{{ partial "head" . }}

<body>

	{{ partial "navigation" . }}

	<div class="site-wrapper">

		{{ if eq .Type "solo" }}
			<section class="single-wrap-solo">
				<main role="main" class="item">
						<div class="text-body" itemprop="articleBody">
						{{ .Content }}
						</div>
				</main>
			</section>
		{{ end }}

		{{ if eq .Type "project" }}
			<section class="single-wrap">
				<main role="main" class="item">
					{{ partial "items/project.html" . }}
				</main>
			</section>
		{{ end }}

		{{ if eq .Type "artifact" }}
			<section class="single-wrap">
				<main role="main" class="item">
					{{ partial "items/artifact.html" . }}
				</main>
			</section>
		{{ end }}

		{{ if eq .Type "event" }}
			<section class="single-wrap">
				<main role="main" class="item">
					{{ partial "items/event.html" . }}
				</main>
			</section>
		{{ end }}

		{{ if eq .Type "gallery" }}
			<section class="single-wrap">
				<main role="main" class="item">
					{{ partial "items/gallery.html" . }}
				</main>
			</section>
		{{ end }}

		{{ if eq .Title "Draft" }}
			<main>
				<div id="home">
					<ul class="items" id="posts">

					{{ $paginator := .Paginate ( where .Data.Pages.ByDate.Reverse "Type" "ne" "solo" ) }}
					{{ range $paginator.Pages }}
					{{ if eq .Draft true}}

					{{ if (not (isset .Params "orphan")) }}

					{{ if eq .Type "project" }}
						<li itemscope class="post">
							<a href="{{ .Permalink }}" itemprop="url">
								<div class="p-wrap">
									<p class="list-title phrase" itemprop="name headline">{{ .Title }}</p>
									{{ with .Params.cover }}
									<div class="list-cover" ><img width="600" class="img b-lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ . }}" alt="alt-text"></div>
									<script>;(function() {var bLazy = new Blazy();})();</script>
									{{ end }}
									{{ with .Params.author }}
									<div class="list-author">
										{{ range . }}
											<p>{{ . }}<p>
										{{ end }}
									</div>
									{{ end }}
								</div>
							</a>
						</li>
					{{ end }}

					{{ if eq .Type "artifact" }}
						<li itemscope class="post">
							<a href="{{ .Permalink }}" itemprop="url">
								<div class="p-wrap">
									<p class="list-title phrase" itemprop="name headline">{{ .Title }}</p>
									{{ with .Params.cover }}
									<div class="list-cover" ><img width="600" class="img b-lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ . }}" alt="alt-text"></div>
									<script>;(function() {var bLazy = new Blazy();})();</script>
									{{ end }}
									{{ with .Params.author }}
									<div class="list-author">
										{{ range . }}
											<p>{{ . }}<p>
										{{ end }}
									</div>
									{{ end }}
								</div>
							</a>
						</li>
					{{ end }}

					{{ if eq .Type "event" }}
						<li itemscope class="post">
							<a href="{{ .Permalink }}" itemprop="url">
								<div class="p-wrap">
									<p class="list-title phrase" itemprop="name headline">{{ .Title }}</p>
									{{ with .Params.cover }}
									<div class="list-cover" ><img width="600" class="img b-lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ . }}" alt="alt-text"></div>
									<script>;(function() {var bLazy = new Blazy();})();</script>
									{{ end }}
									{{ with .Params.author }}
									<div class="list-author">
										{{ range . }}
											<p>{{ . }}<p>
										{{ end }}
									</div>
									{{ end }}
								</div>
							</a>
						</li>
					{{ end }}

					{{ if eq .Type "gallery" }}
						<li itemscope class="post">
							<a href="{{ .Permalink }}" itemprop="url">
								<div class="p-wrap">
									<p class="list-title phrase" itemprop="name headline">{{ .Title }}</p>
									{{ with .Params.cover }}
									<div class="list-cover" ><img width="600" class="img b-lazy" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-src="{{ . }}" alt="alt-text"></div>
									<script>;(function() {var bLazy = new Blazy();})();</script>
									{{ end }}
									{{ with .Params.author }}
									<div class="list-author">
										{{ range . }}
											<p>{{ . }}<p>
										{{ end }}
									</div>
									{{ end }}
								</div>
							</a>
						</li>
					{{ end }}

					{{ end }}
					{{ end }}
					{{ end }}
					</ul>
				</div>
			</main>

			{{ partial "pagination" . }}
		{{ end }}

		{{ partial "footer" . }}
	</div>

	<script>
		footer = document.getElementById('footer');
		try { footer.style.opacity = "1"; footer.style.height = "280px"; } catch(e) {"waiting for footer"};
	</script>

	<!-- GLOBAL FOOTER JS --> 
	{{ partial "js" . }}

	<!-- OPTIONALLY INSERT SHOTCODE JS --> 
	{{ if ($.Scratch.Get "js") ne "" }}
		{{ ($.Scratch.Get "js") | safeHTML }}
	{{ end }}

</body>
</html>
